<!DOCTYPE html>
<title>ATBã‚·</title>
<meta charset="UTF-8">
<link rel="shortcut icon" href="favicon.ico">

<style>
body { font-family: "Helvetica"; }
body { background-color: #000000; color: rgb(255, 255, 255); }
a { color: cyan; text-decoration: none; }
a:hover { text-decoration: underline; }
#toc { float: right; background-color: #000000; font-size: 80%;}
code, .code, dt { font-family: 'Helvetica'; font-weight: bold; color: #00ff00; }
h1 { margin-top: 0; }
h2 { border-top: solid 2px yellow; border-bottom: solid 2px yellow; }
h3 {color: red; border-bottom: solid 2px cyan;}
pre.code { margin: 12pt; }
.nyi { opacity: 0.65; }
</style>

<div id="toc"></div>

<h1>BASIC EMULATOR GUIDE</h1>

<section id="intro">
<p>
This is a quick reference for the <a href="./">Basic Emulator</a> by <a target=_blank href="mailto:behlaaryav@gmail.com">Aaryav Behl</a>.
</p>

    </section>

    <section id="statements">
    <h2>Statements</h2>
    <section>
    <h3>Variable Control</h3>
    <dl>
      <dt>CLEAR<dd>Clears all variables
      <dt>[LET] <var>var</var> = <var>expr</var><dd>Assign a variable
      <dt>DIM <var>var</var>( <var>size</var> [, <var>size</var> ...] ) [, <var>var</var>( <var>size</var> [, <var>size</var> ...] ) ...] <dd>Allocate arrays with given dimension
      <dt>DEF FN <var>name</var>(<var>var</var>) = <var>aexpr</var><dd>Define function of a single variable
    </dl>
    </section>
    
    <section>
    <h3>Flow Control</h3>
    <dl>
      <dt>GOTO <var>linenum</var><dd>Jump to a line number
      <dt>GOSUB <var>linenum</var><dd>Enter subroutine at any line number
      <dt>RETURN<dd>Return from a subroutine
      <dt>ON <var>aexpr</var> GOTO <var>linenum</var> [, <var>linenum</var> ...]<dd>Branch based on index (value = 1, 2, ...)
      <dt>ON <var>aexpr</var> GOSUB <var>linenum</var> [, <var>linenum</var> ...]<dd>Subroutine branch based on index (value = 1, 2, ...)
      <dt>POP<dd>Convert last GOSUB into a GOTO
      <dt>FOR <var>var</var> = <var>aexpr</var> TO <var>aexpr</var> [ STEP <var>aexpr</var> ]<dd>Loop with counter variable
      <dt>NEXT [<var>var</var> [, <var>var</var> ...] ]<dd>End of loop
      <dt>IF <var>expr</var> THEN <var>statement</var>
      <dt>IF <var>expr</var> GOTO <var>linenum</var><dd>Conditional; if <var>expr</var> is false, rest of line is skipped
      <dt>END<dd>Terminate the program cleanly
      <dt>STOP<dd>Break, as if an error occurred
    </dl>
    </section>
    
    <section>
    <h3>Error Handling</h3>
    <dl>
      <dt>ONERR GOTO <var>linenum</var><dd>Set an error hook
      <dt>RESUME<dd>Retry line that caused ONERR GOTO
    </dl>
    </section>
    
    <section>
    <h3>Text I/O</h3>
    <dl>
      <dt>PRINT <var>expr</var> [ [;,] <var>expr</var> ... ] [;]<dd>Output text. ; concatenates,
          , advances to next tab stop. A trailing ; suppresses line break
          <var>expr</var> can include SPC(<var>aexpr</var>) to advance by
          multiple spaces, or TAB(<var>aexpr</var>) to advance to column
      <dt>INPUT [<var>string</var> ;] <var>var</var> [, <var>var</var> ...]<dd>Read line of comma-delimited input, with optional prompt.
      <dt>GET <var>var</var><dd>Read a single key
      <dt>HOME<dd>Clear text display
      <dt>HTAB <var>aexpr</var><dd>Position text cursor horizontally (1...40 or 1...80)
      <dt>VTAB <var>aexpr</var><dd>Position text cursor vertically (1...24)
      <dt>INVERSE<dd>Set output mode to black-on-white
      <dt>FLASH<dd>Set output mode to flashing
      <dt>NORMAL<dd>Set output mode to white-on-black
      <dt>TEXT<dd>Set display to text mode
    </dl>
    </section>
    
    <section>
    <h3>Low Resolution Graphics</h3>
    <dl>
      <dt>GR<dd>Set display to mixed test/low resolution ("lores") graphics mode, clear screen to black
      <dt>COLOR= <var>aexpr</var><dd>Set lores color (0...15)
      <dt>PLOT <var>aexpr</var>, <var>aexpr</var><dd>Plot lores point (x = 0...39, y = 0...39/47)
      <dt>HLIN <var>aexpr</var>, <var>aexpr</var> AT <var>aexpr</var><dd>Plot horizontal line (x1, x2 at y)
      <dt>VLIN <var>aexpr</var>, <var>aexpr</var> AT <var>aexpr</var><dd>Plot vertical line (y1, y2 at x)
    </dl>
    </section>
    
    <section>
    <h3>High Resolution Graphics</h3>
    <dl>
      <dt>HGR<dd>Set display to mixed/high resolution ("hires") graphics mode, clear screen to black
      <dt>HGR2<dd>Set display to full hires mode, clear screen to black
      <dt>HPLOT [TO] <var>aexpr</var>, <var>aexpr</var> [ TO <var>aexpr</var>, <var>aexpr</var> ] ... <dd>Plot hires point/line (x=0...279, y=0...191)
      <dt>HCOLOR= <var>aexpr</var><dd>Set hires color (0...7)
    </dl>
    </section>
    
    <section>
    <h3>Inline Data</h3>
    <dl>
      <dt>DATA <var>value</var> [, <var>value</var> ...]<dd>Define inline data. Values
    can be literals (unquoted strings), strings, or numbers
      <dt>READ <var>var</var> [, <var>var</var> ...]<dd>Read the next DATA value
      <dt>RESTORE<dd>Restore the DATA pointer to the first value
    </dl>
    </section>
    
    <section>
    <h3>Miscellaneous</h3>
    <dl>
      <dt>REM [<var>comment</var>]<dd>Begin a comment; rest of line is skipped
      <dt>TRACE<dd>Turn on trace mode (line numbers printed)
      <dt>NOTRACE<dd>Turn off trace mode
    </dl>
    </section>
    
    <section id="shims">
    <h3>Compatibility Shims</h3>
    <dl>
      <dt>SPEED= <var>aexpr</var><dd>Set character output delay &mdash; <em>has no effect</em>
      <dt>POKE <var>aexpr</var>, <var>aexpr</var><dd>Set memory location to value
          <ul>
            <li><code>POKE 32,<var>n</var></code> &mdash; Text window left edge
            <li><code>POKE 33,<var>n</var></code> &mdash; Text window width
            <li><code>POKE 34,<var>n</var></code> &mdash; Text window top edge
            <li><code>POKE 35,<var>n</var></code> &mdash; Text window bottom
            <li><code>POKE 36,<var>n</var></code> &mdash; Text cursor x
            <li><code>POKE 37,<var>n</var></code> &mdash; Text cursor y
            <li><code>POKE 216,<var>n</var></code> &mdash; ONERR flag (<var>n</var> &lt; 128 disables ONERR handler)
            <li><code>POKE 230,<var>n</var></code> &mdash; Hi-Res plotting page (32 = page 1, 64 = page 2)
            <li><code>POKE 49168,0</code> or <code>POKE -16368,0</code> &mdash; clear keyboard strobe
            <li><code>POKE 49200,0</code> or <code>POKE -16336,0</code> &mdash; toggle speaker (no-op)
            <li><code>POKE 49232,0</code> or <code>POKE -16304,0</code> &mdash; graphics mode
            <li><code>POKE 49233,0</code> or <code>POKE -16303,0</code> &mdash; text mode
            <li><code>POKE 49234,0</code> or <code>POKE -16302,0</code> &mdash; full graphics mode
            <li><code>POKE 49235,0</code> or <code>POKE -16301,0</code> &mdash; mixed text/graphics mode
            <li><code>POKE 49236,0</code> or <code>POKE -16300,0</code> &mdash; display page 1
            <li><code>POKE 49237,0</code> or <code>POKE -16299,0</code> &mdash; display page 2
            <li><code>POKE 49238,0</code> or <code>POKE -16298,0</code> &mdash; lores graphics mode
            <li><code>POKE 49239,0</code> or <code>POKE -16297,0</code> &mdash; hires graphics mode
          </ul>
    
      <dt>CALL <var>aexpr</var><dd>Call native routine
          <ul>
            <li><code>CALL 54915</code> or <code>CALL -10621</code> &mdash; clear stack (pop all <code>FOR</code>/<code>NEXT</code>, <code>GOSUB</code>/<code>RETURN</code>, and <code>ONERR</code>/<code>RESUME</code> entries)
            <li><code>CALL 62248</code> or <code>CALL -3288</code> &mdash; pop <code>ONERR</code>/<code>RESUME</code> entry from stack
            <li><code>CALL 62436</code> or <code>CALL -3100</code> &mdash; reveal hi-res page 1
            <li><code>CALL 62450</code> or <code>CALL -3086</code> &mdash; clear current hi-res page to black
            <li><code>CALL 62454</code> or <code>CALL -3082</code> &mdash; clear current hi-res page to current color
            <li><code>CALL 64500</code> or <code>CALL -1036</code> &mdash; move cursor right
            <li><code>CALL 64528</code> or <code>CALL -1008</code> &mdash; move cursor left
            <li><code>CALL 64538</code> or <code>CALL -998</code> &mdash; move cursor up
            <li><code>CALL 64578</code> or <code>CALL -958</code> &mdash; clear text from cursor to bottom of window
            <li><code>CALL 64614</code> or <code>CALL -922</code> &mdash; move cursor down
            <li><code>CALL 64668</code> or <code>CALL -868</code> &mdash; clear text from cursor to end of line
            <li><code>CALL 64780</code> or <code>CALL -756</code> &mdash; wait for keypress
            <li><code>CALL 65152</code> or <code>CALL -384</code> &mdash; set inverse text mode
            <li><code>CALL 65156</code> or <code>CALL -380</code> &mdash; set normal text mode
          </ul>
    
      <dt>PR# <var>aexpr</var><dd>Direct output to slot
          <ul>
            <li><code>PR#0</code> &mdash; set 40 column mode
            <li><code>PR#3</code> &mdash; set 80 column mode
            <li><code>PR#4</code> &mdash; write to Thunderclock
          </ul>
    
      <dt>IN# <var>aexpr</var><dd>Direct output to slot
          <ul>
            <li><code>IN#0</code> &mdash; read input from keyboard or DOS
            <li><code>IN#4</code> &mdash; read from Thunderclock
          </ul>
    
    </dl>
    </section>
    </section>

    <section id="functions">

<h2>Functions</h2>

<h3>Numeric Functions</h3>
<dl>
  <dt>ABS( <var>aexpr</var> )<dd>Absolute value of number
  <dt>ATN( <var>aexpr</var> )<dd>Arctangent of number
  <dt>COS( <var>aexpr</var> )<dd>Cosine of number
  <dt>EXP( <var>aexpr</var> )<dd>Raise e to number
  <dt>INT( <var>aexpr</var> )<dd>Integer part of number
  <dt>LOG( <var>aexpr</var> )<dd>Natural log of number
  <dt>RND( <var>aexpr</var> )<dd>Pseudo-random number generator.
    If <var>aexpr</var> is positive, returns a random number from 0 to 0.999....
    If <var>aexpr</var> is zero, repeats the last result.
    If <var>aexpr</var> is negative, reseeds the generator.
  <dt>SGN( <var>aexpr</var> )<dd>Sign of number (-1, 0, 1)
  <dt>SIN( <var>aexpr</var> )<dd>Sine of number
  <dt>SQR( <var>aexpr</var> )<dd>Square root of number
  <dt>TAN( <var>aexpr</var> )<dd>Tangent of number
</dl>
<h3>String Functions</h3>
<dl>
  <dt>LEN( <var>sexpr</var> )<dd>Length of string
  <dt>LEFT$( <var>sexpr</var>, <var>aexpr</var> )<dd>Left portion of (string, length)
  <dt>MID$( <var>sexpr</var>, <var>aexpr</var> [, <var>aexpr</var>] )<dd>Substring of (string, start character, length)
  <dt>RIGHT$( <var>sexpr</var>, <var>aexpr</var> )<dd>Right portion of (string, length)
</dl>
<h3>Type Conversion Functions</h3>
<dl>
  <dt>ASC( <var>sexpr</var> )<dd>ASCII code for first character of string
  <dt>CHR$( <var>aexpr</var> )<dd>Character at specified ASCII code point <a href="#chr_extras"></a>
  <dt>STR$( <var>aexpr</var> )<dd>String representation of number
  <dt>VAL( <var>sexpr</var> )<dd>Parse string into number
</dl>
<h3>System Interaction Functions</h3>
<dl>
  <dt>FRE( <var>aexpr</var> )<dd>Garbage collect strings (returns 0)
  <dt>PDL( <var>aexpr</var> )<dd>Paddle position (paddle number)
  <dt>POS( <var>aexpr</var> )<dd>Horizontal cursor position
  <dt>SCRN( <var>aexpr</var>, <var>aexpr</var> )<dd>Lores color at pixel (x,y) <a href="#hscrn"></a>
</dl>
<h3>User Defined Functions</h3>
<dl>
  <dt>FN <var>name</var>( <var>expr</var> )<dd>Execute user defined function <a href="#def_fn_string"></a>
</dl>

<h3 id="function_shims">Function Compatibility Shims</h3>
<dl>
  <dt id="peek">PEEK( <var>aexpr</var> )<dd>Value at memory location
      <ul>
        <li><code>PEEK(32)</code> &mdash; Text window left edge
        <li><code>PEEK(33)</code> &mdash; Text window width
        <li><code>PEEK(34)</code> &mdash; Text window top edge
        <li><code>PEEK(35)</code> &mdash; Text window bottom
        <li><code>PEEK(36)</code> &mdash; Text cursor x
        <li><code>PEEK(37)</code> &mdash; Text cursor y
        <li><code>PEEK(78)</code> &amp; <code>PEEK(79)</code> &mdash; Random-Number Field
        <li><code>PEEK(222)</code> &mdash; Last error code
        <li><code>PEEK(230)</code> &mdash; Hi-Res plotting page (32 = page 1, 64 = page 2)
        <li><code>PEEK(49152)</code> or <code>PEEK(-16384)</code> &mdash; Read Keyboard
        <li><code>PEEK(49168)</code> or <code>PEEK(-16368)</code> &mdash; Clear Keyboard strobe

        <li><code>PEEK(49178)</code> or <code>PEEK(-16358)</code> &mdash; See if text mode (&gt; 127) or graphics mode (&lt; 128)
        <li><code>PEEK(49179)</code> or <code>PEEK(-16357)</code> &mdash; See if mixed mode (&gt; 127) or full mode (&lt; 128)
        <li><code>PEEK(49180)</code> or <code>PEEK(-16356)</code> &mdash; See if page2 (&gt; 127) or page1 (&lt; 128)
        <li><code>PEEK(49181)</code> or <code>PEEK(-16355)</code> &mdash; See if hires mode (&gt; 127) or lores mode (&lt; 128)
        <li><code>PEEK(49182)</code> or <code>PEEK(-16354)</code> &mdash; See if mousetext mode (&gt; 127)
        <li><code>PEEK(49183)</code> or <code>PEEK(-16353)</code> &mdash; See if 80-column mode (&gt; 127)

        <li><code>PEEK(49200)</code> or <code>PEEK(-16336)</code> &mdash; Click Speaker (no-op)
        <li><code>PEEK(49248)</code> or <code>PEEK(-16288)</code> &mdash; Read Paddle Button #3 &mdash; <em>Use the PageDown key</em>
        <li><code>PEEK(49249)</code> or <code>PEEK(-16287)</code> &mdash; Read Paddle Button #0 &mdash; <em>Use the Home key</em>
        <li><code>PEEK(49250)</code> or <code>PEEK(-16286)</code> &mdash; Read Paddle Button #1 &mdash; <em>Use the End key</em>
        <li><code>PEEK(49251)</code> or <code>PEEK(-16285)</code> &mdash; Read Paddle Button #2 &mdash; <em>Use the PageUp or Shift key</em>
      </ul>
</dl>
</section>

<section id="operators">

<h2>Operators</h2>

<h3>Comparison Operators</h3>
<dl>
  <dt>=<dd>Equality <a href="#eqeq"></a>
  <dt>&lt;<dd>Less than
  <dt>&gt;<dd>Greater than
  <dt>&lt;=<dt>=&lt;<dd>Less than or equal
  <dt>&gt;=<dt>=&gt;<dd>Greater than or equal
  <dt>&lt;&gt;<dt>&gt;&lt;<dd>Not equal
</dl>
<h3>Boolean Operators</h3>
<dl>
  <dt>AND<dd>Conjunction
  <dt>OR<dd>Disjunction
  <dt>NOT<dd>Negation
</dl>
<h3>Arithmetic Operators</h3>
<dl>
  <dt>^<dd>Exponentiation
  <dt>*<dd>Multiplication
  <dt>/<dd>Division
  <dt>+<dd>Addition
  <dt>-<dd>Subtraction
</dl>
<h3>String Operators</h3>
<dl>
  <dt>+<dd>String Concatenation
</dl>

<h3>Operator Precedence</h3>
<p style="color: rgb(255, 123, 0);">Operators are listed vertically in order of precedence, from highest to lowest. Operators on the same line are of the same priority, and in an expression are executed from left to right. This order differs from the order in some other dialects of BASIC, but does match .

<ul style="list-style-type: none">
  <li><code>( )</code>
  <li><code>+ - NOT</code> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (unary operators)
  <li><code>^</code>
  <li><code>* /</code>
  <li><code>+ -</code>
  <li><code>= &lt; &gt; &lt;= =&lt; &gt;= =&gt; &lt;&gt; &gt;&lt;</code>
  <li><code>AND</code>
  <li><code>OR</code>
</ul>

</section>

<section id="errorcodes">

    <h2>Error Codes</h2>
 
    <p style="color: rgb(255, 123, 0);">Error codes can be determined by calling
    <code>PEEK(222)</code> in an ONERR handler.</p>
    
    <dl>
      <dt>0<dd>Next without for
      <dt>16<dd>Syntax error &mdash; <em>Not generated</em>
      <dt>22<dd>Return without gosub
      <dt>42<dd>Out of data
      <dt>53<dd>Illegal quantity
      <dt>69<dd>Overflow
      <dt>77<dd>Out of memory &mdash; <em>Not generated by all browsers</em>
      <dt>90<dd>Undefined statement
      <dt>107<dd>Bad subscript
      <dt>120<dd>Redimensioned array
      <dt>133<dd>Division by zero
      <dt>163<dd>Type mismatch
      <dt>176<dd>String too long &mdash; <em>Not generated</em>
      <dt>191<dd>Formula too complex &mdash; <em>Not generated by all browsers</em>
      <dt>224<dd>Undefined function
      <dt>254<dd>Re-enter
      <dt>255<dd>Break
    </dl>
    </section>

